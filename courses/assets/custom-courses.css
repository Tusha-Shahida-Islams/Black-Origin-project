/* ===============  THEME  =============== */
:root{
  --bg: #0b0b0c;
  --surface: #121214;
  --soft: #17171b;
  --text: #f6f7fb;
  --muted: #cfd1d6;
  --border: rgba(255,255,255,.08);
  --red: #e50914;
  --red-600: #d00010;
  --ring: rgba(229,9,20,.35);

  --radius-lg: 20px;
  --radius-md: 14px;
  --radius-sm: 10px;

  --shadow-1: 0 10px 24px rgba(0,0,0,.45);
  --shadow-2: 0 8px 26px rgba(229,9,20,.18);

  --container: 1160px;
}

/* ===============  RESET / BASE  =============== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1200px 900px at 90% -10%, rgba(229,9,20,.08), transparent 40%),
    var(--bg);
  color:var(--text);
  font: 500 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
img{display:block; max-width:100%}
a{color:inherit; text-decoration:none}
.container{max-width:var(--container); margin-inline:auto; padding-inline:16px}

/* ===============  BUTTONS  =============== */
.btn{
  display:inline-flex; align-items:center; gap:10px;
  padding:.7rem 1rem; border-radius:12px;
  border:1px solid var(--border); cursor:pointer; user-select:none;
  transition:transform .15s ease, filter .2s ease, border-color .2s ease, box-shadow .2s;
}
.btn svg{width:18px;height:18px;flex:none;stroke:currentColor;fill:none;stroke-width:2}
.btn:hover{transform:translateY(-1px); border-color:var(--red)}
.btn--primary{
  background: linear-gradient(90deg, var(--red), var(--red-600));
  border-color:transparent; box-shadow:var(--shadow-2); font-weight:700;
}
.btn--ghost{background:var(--soft)}

/* ===============  HEADER  =============== */
.header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(140%) blur(10px); background:rgba(18,18,20,.72); border-bottom:1px solid var(--border)}
.header__bar{display:flex; align-items:center; gap:16px; padding:12px 0}
.logo img{height:40px}
.auth{margin-left:auto; display:flex; gap:10px}

/* Nav (flex desktop / checkbox mobile) */
.nav__checkbox{display:none}
.nav__toggle{display:none; width:40px; height:40px; border:1px solid var(--border); border-radius:10px; align-items:center; justify-content:center; cursor:pointer}
.nav__toggle span{display:block; width:20px; height:2px; background:#fff; margin:3px auto; transition:.2s}
.nav__menu{display:flex; align-items:center; gap:6px; margin:0 12px 0 12px; padding:0; list-style:none}
.nav__menu > li > a,
summary{
  display:inline-flex; align-items:center;
  padding:10px 12px; border-radius:10px; color:#e9e9ee; transition:background .2s,color .2s; cursor:pointer;
}
.nav__menu > li > a:hover, summary:hover{background:rgba(229,9,20,.12); color:#fff}

/* Submenus via <details> */
.nav__item--details details{position:relative}
.nav__submenu{
  position:absolute; top:100%; left:0; min-width:220px;
  background:var(--surface); border:1px solid var(--border); border-radius:12px;
  padding:6px; list-style:none; margin:8px 0 0 0; display:none;
  box-shadow:var(--shadow-1);
}
.nav__submenu a{display:block; padding:10px; border-radius:10px; color:var(--muted)}
.nav__submenu a:hover{background:rgba(229,9,20,.12); color:#fff}
.nav__item--details details[open] .nav__submenu{display:block}
summary::-webkit-details-marker{display:none}

/* Topline */
.header__topline{border-top:1px solid var(--border); background:var(--surface); color:var(--muted); font-size:.9rem}
.topline{display:flex; gap:16px; align-items:center; justify-content:space-between; padding:8px 0}
.topline a{color:#fff}
.topline__meta{display:flex; gap:14px; flex-wrap:wrap}
.meta__item{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:10px; border:1px solid var(--border); background:transparent}
.meta__item svg{width:16px;height:16px;fill:currentColor}

/* ===============  BANNER  =============== */
.banner{
  padding:64px 0;
  background:
    linear-gradient(180deg, rgba(229,9,20,.12), rgba(229,9,20,0) 45%),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
  border-bottom:1px solid var(--border);
}
.breadcrumb{display:flex; gap:10px; color:var(--muted); font-size:.95rem}
.breadcrumb a{color:var(--muted)}
.breadcrumb .active{color:#fff}
.banner__title{margin:.4rem 0 0 0; font-size:clamp(28px, 3.6vw, 44px); font-weight:900; letter-spacing:.3px}
.banner__title span{color:var(--red); text-shadow:0 6px 26px rgba(229,9,20,.28)}

/* ===============  FILTERS  =============== */
.filters{padding:28px 0}
.filters__wrap{
  display:grid; grid-template-columns: 1fr auto; gap:16px;
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius-lg); padding:16px;
  box-shadow:var(--shadow-1);
}
.search{display:flex; gap:10px; align-items:center}
.search input{
  flex:1; min-width:0; background:var(--soft); color:#fff; border:1px solid var(--border);
  border-radius:999px; padding:12px 14px; outline:none; transition:box-shadow .15s, border-color .2s;
}
.search input:focus{border-color:var(--red); box-shadow:0 0 0 .18rem var(--ring)}
.tabs{display:flex; gap:8px; list-style:none; padding:0; margin:0; align-items:center; background:var(--soft); border:1px solid var(--border); border-radius:999px}
.tab{display:inline-block; padding:10px 14px; border-radius:999px; color:var(--muted)}
.tab:hover{color:#fff}
.tab.is-active{color:#fff; background:linear-gradient(90deg, var(--red), var(--red-600)); box-shadow:var(--shadow-2)}

/* ===============  GRID / CARDS  =============== */
.section{padding:28px 0 64px}
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:22px;
}
.card{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:var(--radius-lg);
  overflow:hidden;
  box-shadow:var(--shadow-1);
  transition:transform .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.card:hover{transform:translateY(-6px); border-color:rgba(229,9,20,.35); box-shadow:0 14px 36px rgba(0,0,0,.55), 0 8px 22px rgba(229,9,20,.18)}
.card__media{position:relative; overflow:hidden; background:#000}
.card__media img{width:100%; height:220px; object-fit:cover}
.card__media::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,0) 40%, rgba(0,0,0,.55) 100%)}

/* Card options via <details> */
.card__options{position:absolute; top:10px; right:10px}
.card__options summary{
  width:40px; height:40px; border-radius:10px; background:rgba(0,0,0,.5); border:1px solid var(--border);
  display:grid; place-items:center; color:#fff; font-weight:700; letter-spacing:2px;
}
.card__options ul{
  position:absolute; right:0; margin:8px 0 0 0; padding:6px; list-style:none;
  background:var(--surface); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow-1);
}
.card__options a{display:block; padding:9px 10px; border-radius:10px; color:var(--muted)}
.card__options a:hover{background:rgba(229,9,20,.12); color:#fff}

.card__body{padding:18px}
.card__title{margin:10px 0 0 0; font-size:1.02rem; line-height:1.4}
.card__title a:hover{color:var(--red)}

/* Authors (flex) */
.authors{display:flex; align-items:center; gap:12px}
.authors img{width:42px; height:42px; object-fit:cover; border-radius:50%}
.authors__name{display:block; color:#fff; font-weight:600; line-height:1.1}
.authors__name--muted{color:var(--muted); font-weight:500}

/* Progress / Rating */
.progress{margin-top:14px}
.progress__top{display:flex; align-items:center; justify-content:space-between; gap:10px}
.progress__top p{margin:0; color:var(--muted)}
.progress__bar{
  --p: 0%;
  position:relative; height:10px; border-radius:999px; overflow:hidden; margin-top:8px;
  background:var(--soft); border:1px solid var(--border);
}
.progress__bar::before{
  content:""; position:absolute; inset:0; width:var(--p);
  background:linear-gradient(90deg, var(--red), var(--red-600));
  border-right:1px solid rgba(255,255,255,.2);
}

/* Stars rating (pure CSS) */
.stars{
  --rating: .8; /* 0..1 */
  width:90px; height:16px; position:relative; border-radius:999px; border:1px solid var(--border); overflow:hidden;
  background:
    linear-gradient(90deg, var(--red), var(--red-600)) 0/ calc(var(--rating) * 100%) 100% no-repeat,
    linear-gradient(90deg, #3a3a3f, #2d2d31);
}

/* Helpers */
.muted{color:var(--muted)}
.small{font-size:.9rem}

/* ===============  DOWNLOAD  =============== */
.download{
  border-top:1px solid var(--border); border-bottom:1px solid var(--border);
  background:
    radial-gradient(800px 600px at 10% -10%, rgba(229,9,20,.18), transparent 45%),
    linear-gradient(180deg, rgba(229,9,20,.08), rgba(229,9,20,0));
}
.dl__wrap{display:flex; align-items:center; justify-content:space-between; gap:18px; padding:42px 0}
.dl__text h2{margin:0 0 6px 0; font-size:clamp(22px, 2.6vw, 32px)}
.dl__actions{display:flex; gap:10px; flex-wrap:wrap}
.store img{border-radius:12px; border:1px solid var(--border)}

/* ===============  FOOTER  =============== */
.footer{background:var(--surface); border-top:1px solid var(--border)}
.footer__grid{
  display:grid; gap:22px; padding:40px 0;
  grid-template-columns: 1.2fr 1fr 1fr 1.2fr;
}
.logo--footer img{height:40px}
h4{margin:0 0 10px 0}
.list{list-style:none; padding:0; margin:0}
.list li a{display:block; padding:8px 0; color:var(--muted)}
.list li a:hover{color:#fff}
.subscribe{display:flex; gap:10px}
.subscribe input{
  flex:1; min-width:0; background:var(--soft); color:#fff; border:1px solid var(--border);
  border-radius:12px; padding:10px 12px; outline:none;
}
.subscribe input:focus{border-color:var(--red); box-shadow:0 0 0 .18rem var(--ring)}
.footer__bottom{border-top:1px solid var(--border); background:var(--bg)}
.footer__bottom__bar{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:14px 0}
.footer__links{display:flex; gap:14px; flex-wrap:wrap}
.footer__links a{color:var(--muted)}
.footer__links a:hover{color:#fff}

/* ===============  RESPONSIVE  =============== */
@media (max-width: 1024px){
  .filters__wrap{grid-template-columns: 1fr}
}

@media (max-width: 920px){
  .footer__grid{grid-template-columns: 1fr 1fr}
}

@media (max-width: 840px){
  .auth{display:none} /* keep header clean on small screens */

  .nav__toggle{display:flex; margin-left:auto}
  .nav{position:fixed; inset:60px 0 0 0; background:rgba(18,18,20,.96); transform:translateY(-110%); transition:transform .25s ease; border-top:1px solid var(--border)}
  .nav__menu{flex-direction:column; align-items:flex-start; padding:16px}
  .nav__menu > li > a, summary{width:100%}
  .nav__item--details details[open] .nav__submenu{position:static; margin:6px 0 10px 10px}
  .nav__submenu{min-width:unset}

  /* toggle */
  .nav__checkbox:checked ~ .nav{transform:translateY(0)}
  .nav__checkbox:checked + .nav__toggle span:nth-child(1){transform:translateY(5px) rotate(45deg)}
  .nav__checkbox:checked + .nav__toggle span:nth-child(2){opacity:0}
  .nav__checkbox:checked + .nav__toggle span:nth-child(3){transform:translateY(-5px) rotate(-45deg)}
}

@media (max-width: 640px){
  .dl__wrap{flex-direction:column; align-items:flex-start}
  .footer__grid{grid-template-columns:1fr}
  .banner{padding:48px 0}
}
